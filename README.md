# cat-active-window-logger
オープンソース、自分の用途にマッチした挙動のロガー、を楽に作れるかの検証用

# ざっくりブレインストーミング

# ロードマップ案のブレインストーミング
- title変動 のlistup
    - イメージ
        - toml出力
            - output例
                - `[[変動titleその1]]`
                    - `titles = [ 'a1', 'a2' ]`
                    - `process_name : 'a.exe'`
                    - `process_id : 12345`
    - 用途
        - 変動titleの有無を可視化し、対策優先度を可視化する
- 全titleの列挙
    - これまでの課題
        - log tomlは取得できた。さてどのようなtitleがあるか？の網羅、把握、ができていない
    - 対策
        - 可視化する
    - 方法
        - toml output 、titleの一覧
        - log加工部
        - 専用py、新規py

# 構成案のブレインストーミング
- 分解
    - 常駐部
        - logger
    - log rotation部
        - loggerと切り分ける
            - いろいろな仕様がありうるので、userごとに任意のrotateを可能に
                - 実際はrotateせずに圧縮の運用が多い想定
    - log加工部
        - input : log
        - process : いろいろな条件でフィルタリング等
            - 時間
                - 直近30分だけ
            - 要素
                - window titleだけ
        - output : 加工された新たなformatのlog、あるいはサマリ
            - 可視化された、比較的可読性の高いもの
                - デバッグ用に可読性を向上させたもの等
    - viewer部
        - グラフ表示、pythonのグラフ表示ライブラリを使う想定
    - アプリそれぞれを疎結合にし、中間ファイルで接続する
        - メリット : forkした人が、必要なところだけ別内容に変更できる
        - 備忘 : 外部プラグインで拡張できるような仕組み、を検討するのはもっと大規模で多機能になってからのイメージ

# 今後、ブレインストーミング
- titleとprocessを元に、正規表現で、tagづけ
    - 用途、集計サポート用、可視化用、ふわっと
    - イメージ、in tomlにtag付与して、out tomlに出力する

# 備忘、ブレインストーミング
- hwnd 等の一見logging不要そうなデータの用途
    - ノウハウ用
        - titleが頻繁に変わる場合のヒントになるか？の検証用
        - ひとまず、ねんのため
- TOMLにした理由
    - 追記処理がシンプル、可読性が高い
        - jsonの場合、追記処理が複雑になる
            - ほしいのは、時刻ごとの、配列の追記
        - tsv等の場合、可読性が（TOMLよりは）低い
            - ほしいのは、要素ごとに要素名もlogging
                - なぜなら開発中に各種中間ファイルをtestしやすい（読みやすい）
